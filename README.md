
# yt-dlp-gui

yt-dlp を使ったシンプルなデスクトップ向けダウンローダです。  
GUI は TkEasyGUI、ダウンロード処理は `downloader.py` に分割し、ロギングと Ctrl+C 中断をサポートしています。

主な機能
- 単一動画・生配信のダウンロード
- プレイリスト/チャンネル、URLリストからの連続ダウンロード
- 進捗表示・中断（停止ボタン／Ctrl+C）
- Cookie ファイルの指定に対応
- ログ出力（ローテーションあり）

動作環境
- OS: Windows（他OSでも Python/Tk が動けば概ね可）
- Python: 3.13 以上
- 依存: `yt-dlp`, `TkEasyGUI`（ビルド時のみ `pyinstaller`）

インストール
1. Python と仮想環境を用意（任意）
2. 必要パッケージをインストール  
   例: `pip install -U yt-dlp tkeasygui`  
   ビルドする場合は `pip install -U pyinstaller` も

実行方法
- GUI を起動: `python main.py`

基本的な使い方
- 単一動画
  1) URL を入力 → 2)「読み込み」で情報取得 → 3) フォーマットを選択  
  4) 保存先を指定 → 5)「単一ダウンロード開始」
- 生配信
  1) 生配信URL → 2)「生配信情報取得」 → 3) フォーマット選択  
  4) 開始位置（配信開始/現在位置） → 5) 保存先 → 6)「生配信ダウンロード開始」  
  停止は「生配信ダウンロード停止」ボタンで可能
- 連続ダウンロード
  - URLリストファイル（1行=1URL）またはプレイリスト/チャンネルURLを指定  
  - 出力形式（video/audio）、保存フォルダを選択して開始

Cookie の使い方
- 設定タブで Cookie ファイルを指定すると、認証が必要な動画にも対応できます。

ロギング
- ログファイル: `logs/yt_dlp_gui.log`（最大2MB × 3 ファイルでローテーション）  
- コンソール実行時は標準出力にも INFO 以上を出力します。

中断（安全停止）
- コンソールで Ctrl+C → 進行中のダウンロードを安全に停止します。  
- 生配信タブの「停止」ボタンでも中断可能です。

プロジェクト構成（主要ファイル）
- `main.py`: ランチャー（UI 起動）
- `ui.py`: GUI（TkEasyGUI）とイベント処理
- `downloader.py`: ダウンロードロジック、ロギング、Ctrl+C ハンドリング

ビルド（任意）
- 既存の spec を使用: `pyinstaller yt-dlp-gui.spec`  
- もしくは簡易ビルド例: `pyinstaller --noconsole -F main.py`  
- 生成物は `dist/yt-dlp-gui.exe` に出力されます。

注意事項
- 各サービスの利用規約および法令に従ってご利用ください。
